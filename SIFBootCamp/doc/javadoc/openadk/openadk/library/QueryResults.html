<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_07) on Sat Nov 19 10:16:48 GMT+08:00 2011 -->
<TITLE>
QueryResults
</TITLE>

<META NAME="date" CONTENT="2011-11-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="QueryResults";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/QueryResults.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../openadk/library/Query.html" title="class in openadk.library"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../openadk/library/QueryResultsOptions.html" title="class in openadk.library"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?openadk/library/QueryResults.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="QueryResults.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
openadk.library</FONT>
<BR>
Interface QueryResults</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../openadk/library/services/SIFZoneServiceProxy.html" title="class in openadk.library.services">SIFZoneServiceProxy</A>, <A HREF="../../openadk/library/TrackQueryResults.html" title="class in openadk.library">TrackQueryResults</A>, <A HREF="../../openadk/library/impl/TrackQueryResultsImpl.html" title="class in openadk.library.impl">TrackQueryResultsImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>QueryResults</B></DL>
</PRE>

<P>
The QueryResults interface is implemented by classes that process the
  results of queries initiated by the agent. Agents typically register a
  <i>QueryResults</i> implementation with a Topic or Zone.
  <p>

  <b>Pending Queries</b><p>

  The <code>onQueryPending</code> method is called by the ADK for each zone to
  which a SIF_Request message is sent. Agents interested in tracking the
  results of pending queries may implement this method to match SIF_Request
  messages with SIF_Response messages. Agents that do not require this
  functionality can provide an empty implementation.
  <p>

  <b>Query Results</b><p>

  The <code>onQueryResults</code> method is called whenever a SIF_Response
  message is received from a zone. The ADK handles extracting the individual
  SIF Data Objects from the message and streaming them to the QueryResultsInputStream
  passed as a parameter to this method. Agents should expect to receive
  arbitrarily large result sets from the stream.
  <p>

  <b>Message Dispatching Chain</b><p>

  Because SIF is an asynchronous messaging architecture, result data may be
  received at any time, including results for queries executed in prior agent
  sessions. When a SIF_Response message is received, the ADK dispatches the
  result set to the first <i>QueryResults</i> implementation in the message
  dispatching chain. The chain consists of Topic, Zone, and Agent in that order.
  If no <i>QueryResults</i> object is registered with any of these objects, the
  SIF_Response message is silently discarded. To avoid this situation, consider
  registering a "catch-all" <i>QueryResults</i> implementation with your Agent.
  You may also want to check the timestamp of messages by inspecting the
  MessageInfo parameter passed to the <code>onQueryResults</code> method.
  <p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>ADK 1.0</DD>
<DT><B>Author:</B></DT>
  <DD>Eric Petersen</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../openadk/library/QueryResults.html#onQueryPending(openadk.library.MessageInfo, openadk.library.Zone)">onQueryPending</A></B>(<A HREF="../../openadk/library/MessageInfo.html" title="interface in openadk.library">MessageInfo</A>&nbsp;info,
               <A HREF="../../openadk/library/Zone.html" title="interface in openadk.library">Zone</A>&nbsp;zone)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the ADK after successfully sending a SIF_Request message to a
  zone.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../openadk/library/QueryResults.html#onQueryResults(openadk.library.DataObjectInputStream, openadk.library.infra.SIF_Error, openadk.library.Zone, openadk.library.MessageInfo)">onQueryResults</A></B>(<A HREF="../../openadk/library/DataObjectInputStream.html" title="interface in openadk.library">DataObjectInputStream</A>&nbsp;data,
               openadk.library.infra.SIF_Error&nbsp;error,
               <A HREF="../../openadk/library/Zone.html" title="interface in openadk.library">Zone</A>&nbsp;zone,
               <A HREF="../../openadk/library/MessageInfo.html" title="interface in openadk.library">MessageInfo</A>&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the ADK when it receives a SIF_Response message containing the
  results of a SIF_Request query previously issued by the agent.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="onQueryPending(openadk.library.MessageInfo, openadk.library.Zone)"><!-- --></A><H3>
onQueryPending</H3>
<PRE>
void <B>onQueryPending</B>(<A HREF="../../openadk/library/MessageInfo.html" title="interface in openadk.library">MessageInfo</A>&nbsp;info,
                    <A HREF="../../openadk/library/Zone.html" title="interface in openadk.library">Zone</A>&nbsp;zone)
                    throws <A HREF="../../openadk/library/ADKException.html" title="class in openadk.library">ADKException</A></PRE>
<DL>
<DD>Called by the ADK after successfully sending a SIF_Request message to a
  zone. If it is important to your implementation class to match pending
  SIF_Request queries SIF_Responses, you can use this method to keep track
  of the pending SIF_Requests.<p>

  Note this method is called once for each Zone a SIF_Request message is
  sent to, and is called only after the SIF_Request message is successfully
  sent.<p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>info</CODE> - The properties of the SIF_Request message. Cast this
      value to a SIFMessageInfo object to retrieve attributes specific to
      the Schools Interoperability Framework protocol.<DD><CODE>zone</CODE> - The zone to which the SIF_Request message was sent.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../openadk/library/ADKException.html" title="class in openadk.library">ADKException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="onQueryResults(openadk.library.DataObjectInputStream, openadk.library.infra.SIF_Error, openadk.library.Zone, openadk.library.MessageInfo)"><!-- --></A><H3>
onQueryResults</H3>
<PRE>
void <B>onQueryResults</B>(<A HREF="../../openadk/library/DataObjectInputStream.html" title="interface in openadk.library">DataObjectInputStream</A>&nbsp;data,
                    openadk.library.infra.SIF_Error&nbsp;error,
                    <A HREF="../../openadk/library/Zone.html" title="interface in openadk.library">Zone</A>&nbsp;zone,
                    <A HREF="../../openadk/library/MessageInfo.html" title="interface in openadk.library">MessageInfo</A>&nbsp;info)
                    throws <A HREF="../../openadk/library/ADKException.html" title="class in openadk.library">ADKException</A></PRE>
<DL>
<DD>Called by the ADK when it receives a SIF_Response message containing the
  results of a SIF_Request query previously issued by the agent. Note that
  query responses are received asynchronously and may not be received for
  a long time after the SIF_Request was issued, if at all.
  <p>

  An implementation of this method should check the <i>error</i> parameter
  to determine if the SIF_Response message contains an error. The responder
  to the query may return an error if it doesn't support the object type
  associated with the query, or if it failed to execute the query. The
  SIF_Error object provides the error category, error code, description,
  and optionally an extended description. The <i>data</i> stream should not
  be expected to return any objects.<p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - A DataObjectInputStream that provides all SIFDataObjects
      contained in the SIF_Response message<DD><CODE>error</CODE> - If the SIF_Response message contains an error, this
      parameter is the SIF_Error element from that message; otherwise it
      is null<DD><CODE>zone</CODE> - The zone from which the SIF_Response message was received.<DD><CODE>info</CODE> - The properties of the SIF_Request message. Cast this
      value to a SIFMessageInfo object to retrieve attributes specific to
      the Schools Interoperability Framework protocol.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../openadk/library/ADKException.html" title="class in openadk.library">ADKException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/QueryResults.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../openadk/library/Query.html" title="class in openadk.library"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../openadk/library/QueryResultsOptions.html" title="class in openadk.library"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?openadk/library/QueryResults.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="QueryResults.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
